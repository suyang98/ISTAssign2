<html>
<head>
    <title>Collecting Captions</title>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <style>
        /* Your own CSS code */
        #submission_block {
            margin-top: 20px;
        }
        .highlight {
            background-color: yellow;
            color: red;
            font-weight: bold;
        }
        .underline {
            font-weight: bold;
            text-decoration: underline;
        }
        .red {
            color: red;
        }
        .black {
            color: black;
        }
    </style>

    <script>
        /* Your own JavaScript code */
        // var imgArr = ['sample/img/1001.2938v1-Figure9-1.png','sample/img/1004.4612v1-Figure6-1.png','sample/img/1102.2936v3-Figure4-1.png'];
        // var index = Math.floor((Math.random()*imgArr.length));
        // var imgSrc = imgArr[index];
        // var imgEle = document.getElementByTagName('img')[0];//获取需要改变的img标签
        // imgEle.setAttribute('src',imgSrc);//设置src属性

        $(document).ready(function() {
            // Time Lock
            // (1) init time_left
            var time_left = 30;
            
            // (2) create setInterval function.
            var interval_id = setInterval(function() {
                // count down 1 second
                time_left -= 1;
                
                // if time_left == 0 => turn on the submit-btn
                //                   => remove time information on the button
                //                   => stop setInterval function
                if (time_left == 0) {
                    $("#submit-btn").prop("disabled", false);
                    $("#submit-btn").text("Submit");
                    clearInterval(interval_id);
                } else {
                    // if time_left => display time information to users
                    $("#submit-btn").text("Submit ("+time_left+")");
                }
            }, 1000);

            // Add submission function
            $("#submit-btn").click(function() {
                // Verify word counts!
                if (current_word_count < min_word_count) {
                    alert("Please write at least 20 words");
                    return false;
                }

                // Verify other constraints!!
                // ******* //

                // Submit
                $("#worker-form").submit();
            });

        });
    </script>
</head>
<body>
    <!-- Your own HTML code -->
    <div class="container">
        <form id="worker-form">
            <div class="row">
                <div class="col-12">
                    <h1> Instruction </h1>
                        <p> In this task, you will see a figure from an academic paper and the caption of it. Please read them carefully and evaluate the quality of the <span class="highlight"> caption </span> . </p>
                        <ul>
                            <li>  First, if there are errors in the sample, you could report them on the rightside. </li> 
                            <li>  Second, if there is no error, please chose the corresponding option to evaluate the quality of the caption. </li>
                        </ul>
                </div>
            </div>

            <div class="row">
                <div class="col-6">
                    <img class="rounded mx-auto d-block" src="sample/img/1001.2938v1-Figure9-1.png" width="100%">
                    <p>Here should be a random caption. </p>

                </div>
                <div class="col-6">
                    <form action="/submit_error.php">
                        <p>Are the following errors appearing in the pair of the figure and the caption? </p>
                        <input type="checkbox" id="Figure-Extraction" name="error-group" value="Figure-Extraction">
                        <label for="Figure-Extraction">Figure Extraction Errors</label> 
                        <input type="checkbox" id="Caption-Extraction" name="error-group" value="Caption-Extraction">
                        <label for="Caption-Extraction">Caption Extraction errors</label><br> 
                        <input type="checkbox" id="Hard-to-Understand" name="error-group" value="Hard-to-Understand">
                        <label for="Hard-to-Understand">Hard-to-Understand captions</label>
                      <input type="checkbox" id="No-error" name="error-group" value="No-error">
                      <label for="No-error">No Error Exists</label><br>
                      </form>
                      
                    <form action="/quality.php">
                        <p>The caption matches the figure. </p>
                        <input type="radio" id="00" name="match-group" value="00">
                        <label for="00"> Totally disagree</label><br>
                        <input type="radio" id="01" name="match-group" value="01">
                        <label for="01">Disagree a little</label><br>
                        <input type="radio" id="02" name="match-group" value="02">
                        <label for="02">Neutral opinion</label><br>
                        <input type="radio" id="03" name="match-group" value="03">
                        <label for="03">Agree a little</label><br>
                        <input type="radio" id="04" name="match-group" value="04">
                        <label for="04">Totally Agree</label><br>
                        <p>The caption clearly describes the figure.</p>
                        <input type="radio" id="10" name="clear-group" value="10">
                        <label for="10">Totally disagree</label><br>
                        <input type="radio" id="11" name="clear-group" value="11">
                        <label for="11">Disagree a little</label><br>
                        <input type="radio" id="12" name="clear-group" value="12">
                        <label for="12">Neutral opinion</label><br>
                        <input type="radio" id="13" name="clear-group" value="13">
                        <label for="13">Agree a little</label><br>
                        <input type="radio" id="14" name="clear-group" value="14">
                        <label for="14">Totally Agree</label><br>
                      </form>
                      
                </div>
            </div>

            <div class="row" id="submission_block">
                <div class="col-12">
                    <button 
                        disabled 
                        id="submit-btn" 
                        type="button" 
                        class="btn btn-outline-primary btn-block"
                    >
                        Submit
                    </button>
                </div>
            </div>
        </form>
    </div>

</body>
</html>